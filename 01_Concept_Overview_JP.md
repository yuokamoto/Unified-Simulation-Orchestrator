# 1. プロジェクトコンセプトと全体像

## 目的
**Unified Simulation Orchestrator (USO)** は、  
**複数種類のシミュレーションエンジン（SimPy, Gazebo, Mujoco, Genesis, Isaac Sim, Unreal Engineなど）を切り替え・連携しながら、  
資産（アセット、ロジック、シナリオ）を最大限再利用できる統合シミュレーションフレームワーク** を提供する。

主な目的は以下の通り：
- **大規模かつスケーラブルなシナリオ**（倉庫、工場、ロボティクス）を軽量ロジックシミュレーションで効率的に検証。
- **高精度な物理シミュレーションや3Dビジュアライゼーション**を必要に応じて統合。
- **共通フォーマット（OpenUSD, URDF/SDF, Behavior Tree XML, YAMLスナップショット）**を活用し、複数エンジン間でアセット・ロジック・シナリオを共有。
- **シングルモードと分散モードの両対応**で、小規模テストから数千エージェントの大規模実験までシームレスに対応。

## 核心コンセプト
1. **マルチエンジン対応と切替性**  
   - 軽量なロジック中心のイベント駆動型検証には **SimPy**。  
   - 高精度な物理やROS2統合には **Gazebo, Mujoco, Genesis**。  
   - 高品質な3Dレンダリングやマーケティングデモ、MLデータ生成には **Isaac Sim, Unreal Engine**。
   - **シナリオやロジックを共通管理し、必要に応じてシミュレーションエンジンを切替可能**。

2. **資産とロジックの再利用性**  
   - **OpenUSD** で3Dモデルを共通化し、全レンダリング系ツールで使用可能。
   - **URDF/SDF** でロボットの物理的構造を記述し、Gazeboや他エンジンでも共通利用。
   - **共通Behavior Tree (SCXML/BT XML)** を使い、SimPy, Gazebo, Unreal などで同一ロジックを実行。

3. **スナップショット中心の状態管理**  
   - 世界の状態を **フルスナップショット** と **差分スナップショット** で表現し、  
     初期化・同期・バグ再現・リプレイのすべてを統一的に扱う。

4. **柔軟な運用モード**  
   - **シングルモード**: 単一PCでの高速デバッグや小規模テスト向け。
   - **分散モード**: 複数サーバーでの大規模シミュレーション、フォールトトレランス、スケーラビリティを実現。
